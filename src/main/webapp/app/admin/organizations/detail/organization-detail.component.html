<div class="container-fluid" *ngIf="organization != null">
    <div class="btn-toolbar justify-content-end mb-3">
        <button type="button" class="btn btn-secondary" [routerLink]="['/admin/orgs/list']">
            <bi name="arrow-left"></bi>
        </button>
    </div>
    <h1>{{ pageTitle }}</h1>
    <hr />
    <h4>Organization Details</h4>
    <div class="row">
        <div class="col-6 mb-3">
            <dt>
                <span>Name</span>
            </dt>
            <input type="text" class="form-control" name="name" [(ngModel)]="organization.name" maxlength="30" />
        </div>
        <div class="col-md-6 mb-3">
            <dt>
                <span>Status</span>
            </dt>
            <select class="form-control" [value]="organization.status" (change)="organization.status = $event.target.value">
                <option value="active">Active</option>
                <option value="inactive">Inactive</option>
            </select>
        </div>
    </div>
    <!--    <div class="row">-->
    <!--        <div class="col-md-6 mb-3">-->
    <!--            <dt>-->
    <!--                <span>Website</span>-->
    <!--            </dt>-->
    <!--            <input type="text" class="form-control" name="website" [(ngModel)]="organization.website">-->
    <!--        </div>-->
    <!--    </div>-->
    <hr />
    <h4>Global Configurations</h4>
    <div class="row">
        <div class="container-fluid">
            <span>Email Recipients</span>
            <table class="table table-striped table-sm">
                <thead class="thead-dark">
                    <tr>
                        <th style="width: 150px" scope="col">Email</th>
                        <th style="width: 150px" scope="col">Receive Submissions</th>
                        <th style="width: 150px" scope="col">Receive Approval</th>
                        <th style="width: 150px" scope="col">Receive Rejection</th>
                        <th style="width: 70px" scope="col"></th>
                    </tr>
                </thead>
                <tr *ngFor="let recipient of organization.emailRecipients">
                    <td>{{ recipient.email }}</td>
                    <td style="width: 150px">{{ recipient.types.includes('submissions') ? 'YES' : 'NO' }}</td>
                    <td style="width: 150px">{{ recipient.types.includes('approvals') ? 'YES' : 'NO' }}</td>
                    <td style="width: 150px">{{ recipient.types.includes('rejects') ? 'YES' : 'NO' }}</td>
                    <td style="width: 150px" class="text-right">
                        <button class="btn btn-secondary" (click)="deleteEmail(recipient)">Remove</button>
                    </td>
                </tr>
                <tbody></tbody>
            </table>
            <div class="btn-toolbar justify-content-end mb-3">
                <button type="button" class="btn btn-secondary" (click)="addEmailRecipient()">Add Recipient</button>
            </div>
        </div>
    </div>
    <hr />
    <h4>Security Configurations</h4>
    <div class="row">
        <!-- <div class="col-md-6 mb-3">
            <dt>
                <span>API KEY</span>
            </dt>
            <input
                type="text"
                class="form-control"
                placeholder="Will be set upon creation"
                [value]="organization.security.apiKey"
                disabled
            />
        </div> -->
        <!-- <div class="col-md-6 mb-3">
            <dt>
                <span>Allowed Hosts</span>
            </dt>
            <input type="text" class="form-control" name="allowedHosts" [(ngModel)]="organization.security.allowedHosts" />
        </div> -->
        <div class="col-md-6 mb-3">
            <dt>
                <span>Validation Url</span>
            </dt>
            <input type="text" class="form-control" name="allowedHosts" [(ngModel)]="organization.security.validationUrl" />
        </div>
        <div class="col-md-6 mb-3">
            <dt>
                <span>PostBack URL</span>
            </dt>
            <input type="text" class="form-control" name="allowedHosts" [(ngModel)]="organization.security.postBackUrl" />
        </div>
    </div>
    <div class="btn-toolbar justify-content-end mb-3">
        <button type="button" class="btn btn-secondary" (click)="save()">Save</button>
    </div>
</div>
